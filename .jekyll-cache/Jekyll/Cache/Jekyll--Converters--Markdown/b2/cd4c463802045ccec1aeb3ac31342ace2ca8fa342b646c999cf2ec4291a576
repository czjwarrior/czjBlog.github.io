I"Á<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// 1. åˆ›å»ºä¸€ä¸ªäºŒç»´ç æ»¤é•œå®ä¾‹(CIFilter)
    CIFilter *filter = [CIFilter filterWithName:@"CIQRCodeGenerator"];
    // æ»¤é•œæ¢å¤é»˜è®¤è®¾ç½®
    [filter setDefaults];

    // 2. ç»™æ»¤é•œæ·»åŠ æ•°æ®
    NSString *string = @"594589850445580904903";
    NSData *data = [string dataUsingEncoding:NSUTF8StringEncoding];
    // ä½¿ç”¨KVCçš„æ–¹å¼ç»™filterèµ‹å€¼
    [filter setValue:data forKeyPath:@"inputMessage"];

    // 3. ç”ŸæˆäºŒç»´ç 
    CIImage *image = [filter outputImage];

    // 4. æ˜¾ç¤ºäºŒç»´ç 
    self.imageView.image = [self createNonInterpolatedUIImageFormCIImage:image withSize:80];
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#pragma mark - å°†æ¨¡ç³Šå›¾ç‰‡è½¬æ¢æˆé«˜æ¸…å›¾

- (UIImage *)createNonInterpolatedUIImageFormCIImage:(CIImage *)image withSize:(CGFloat) size {

    CGRect extent = CGRectIntegral(image.extent);
    CGFloat scale = MIN(size/CGRectGetWidth(extent), size/CGRectGetHeight(extent));

    // 1.åˆ›å»ºbitmap;
    size_t width = CGRectGetWidth(extent) * scale;
    size_t height = CGRectGetHeight(extent) * scale;
    CGColorSpaceRef cs = CGColorSpaceCreateDeviceGray();
    CGContextRef bitmapRef = CGBitmapContextCreate(nil, width, height, 8, 0, cs, (CGBitmapInfo)kCGImageAlphaNone);
    CIContext *context = [CIContext contextWithOptions:nil];
    CGImageRef bitmapImage = [context createCGImage:image fromRect:extent];
    CGContextSetInterpolationQuality(bitmapRef, kCGInterpolationNone);
    CGContextScaleCTM(bitmapRef, scale, scale);
    CGContextDrawImage(bitmapRef, extent, bitmapImage);

    // 2.ä¿å­˜bitmapåˆ°å›¾ç‰‡
    CGImageRef scaledImage = CGBitmapContextCreateImage(bitmapRef);
    CGContextRelease(bitmapRef);
    CGImageRelease(bitmapImage);
    return [UIImage imageWithCGImage:scaledImage];
}
</code></pre></div></div>

:ET